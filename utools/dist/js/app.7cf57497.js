(function(e){function n(n){for(var a,i,r=n[0],d=n[1],u=n[2],f=0,s=[];f<r.length;f++)i=r[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);l&&l(n);while(s.length)s.shift()();return c.push.apply(c,u||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],a=!0,i=1;i<t.length;i++){var d=t[i];0!==o[d]&&(a=!1)}a&&(c.splice(n--,1),e=r(r.s=t[0]))}return e}var a={},o={app:0},c=[];function i(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"e9672c4d","chunk-2d0a3196":"525c060a","chunk-2d0a3577":"08e57b7c","chunk-2d0a40c8":"f1e3a7bf","chunk-2d0a43df":"29246f68","chunk-2d0a4bbf":"37464aac","chunk-2d0aa90c":"7dcadb75","chunk-2d0aab07":"9a68281e","chunk-2d0abc00":"3b3192ac","chunk-2d0ae937":"972e1caf","chunk-2d0aeb45":"a7da3444","chunk-2d0af08c":"13b9cb9b","chunk-2d0afa49":"0d8775c1","chunk-2d0b1fd5":"4f1a23bd","chunk-2d0b21d7":"c86168d7","chunk-2d0b2762":"040008b6","chunk-2d0b6187":"98b8f6c5","chunk-2d0ba136":"1c2c79ef","chunk-2d0bb267":"e21a8941","chunk-2d0bcec1":"04eac3a4","chunk-2d0bdf38":"e296a2c0","chunk-2d0bff92":"aeb10dc4","chunk-2d0c0494":"fc8dc4d1","chunk-2d0c0a09":"d6c45b0a","chunk-2d0c4313":"e8a59f53","chunk-2d0c46d1":"26a18d3e","chunk-2d0c4a95":"8524702c","chunk-2d0c512b":"fa3c75fd","chunk-2d0c86e3":"3ad7a61f","chunk-2d0c8f4c":"e8ca8a7d","chunk-2d0cf16e":"a58b5444","chunk-2d0d056d":"b352fd49","chunk-2d0d0645":"294ff97f","chunk-2d0d2f22":"002f49f5","chunk-2d0d61fd":"5f2f813d","chunk-2d0d7e63":"3693fe03","chunk-2d0dda4e":"0781d70a","chunk-2d0de971":"0f33a456","chunk-2d0e1b57":"ac0499f6","chunk-2d0e1fbe":"165f4253","chunk-2d0e22d6":"9556614b","chunk-2d0e4fe5":"b3503c26","chunk-2d0e542a":"444e1c4d","chunk-2d0e57ec":"b32f338b","chunk-2d0e5b34":"a1ee9b7c","chunk-2d0e6553":"59054791","chunk-2d0e6c86":"aa3fefb9","chunk-2d0ea098":"ac843613","chunk-2d0f0a11":"81a52aab","chunk-2d208ac5":"6742d98f","chunk-2d209408":"344ac544","chunk-2d20f745":"ad4a1523","chunk-2d20ff23":"cb2eb94f","chunk-2d2138c7":"ef6bd49e","chunk-2d216f3b":"eeb0926e","chunk-2d217e5b":"b529a5b7","chunk-2d21ab79":"c411bd93","chunk-2d21b84a":"59ec76ae","chunk-2d21dcd2":"452c194f","chunk-2d21f327":"0b267cb0","chunk-2d2214b3":"147874bc","chunk-2d221799":"ca7947fb","chunk-2d221814":"9c3abd2b","chunk-2d221a34":"1eda6924","chunk-2d22502a":"9f9e3da4","chunk-2d226775":"c0469318","chunk-2d229411":"dad820fb","chunk-2d2295e9":"9dae738a","chunk-2d22c171":"fb2a7e19","chunk-2d22c2b8":"8b8784b2","chunk-2d22ca58":"a9e85f42","chunk-2d2311f7":"b12123d9","chunk-2d237ee7":"8460143b","chunk-2d238465":"b6707665","chunk-30597b4a":"0283158b","chunk-7532b3ea":"56a021bf","chunk-e13e4362":"fca79374"}[e]+".js"}function r(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var a=new Promise((function(n,a){t=o[e]=[n,a]}));n.push(t[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=i(e);var u=new Error;c=function(n){d.onerror=d.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",u.name="ChunkLoadError",u.type=a,u.request=c,t[1](u)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(n)},r.m=e,r.c=a,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=n,d=d.slice();for(var f=0;f<d.length;f++)n(d[f]);var l=u;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},1:function(e,n){},2:function(e,n){},"255d":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},c=[],i={name:"App"},r=i,d=(t("034f"),t("2877")),u=Object(d["a"])(r,o,c,!1,null,null,null),f=u.exports,l=t("5c96"),s=t.n(l),h=(t("0fae"),t("8c4f")),b=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:e.myEditorStyle},[t("div",{attrs:{id:"diff_control"}},[t("el-form",{ref:"form",staticStyle:{height:"41px"},attrs:{inline:!0}},[t("el-form-item",{staticClass:"select-style1"},[t("el-select",{attrs:{size:"mini",placeholder:"主题"},on:{change:e.themeChange},model:{value:e.theme,callback:function(n){e.theme=n},expression:"theme"}},e._l(e.themeOption,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"select-style2"},[t("el-select",{attrs:{size:"mini",filterable:"",placeholder:"比对语言"},on:{change:e.languageChange},model:{value:e.language,callback:function(n){e.language=n},expression:"language"}},e._l(e.languageOption,(function(e){return t("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{size:"mini",icon:"el-icon-delete",title:"清除内容"},on:{click:e.clearContent}})],1),t("el-form-item",[t("el-button-group",[t("el-button",{attrs:{size:"mini",icon:"el-icon-arrow-left",title:"上一处差异"},on:{click:e.previousDiff}}),t("el-button",{attrs:{size:"mini",title:"下一处差异"},on:{click:e.nextDiff}},[t("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),t("el-form-item",[t("el-checkbox",{class:e.fontStyle,attrs:{border:"",size:"mini"},on:{change:e.InlineDiffChange},model:{value:e.inlineDiff,callback:function(n){e.inlineDiff=n},expression:"inlineDiff"}},[e._v("行内对比")])],1),t("el-form-item",[t("el-checkbox",{class:e.fontStyle,attrs:{border:"",size:"mini"},on:{change:e.WordWrapChange},model:{value:e.wordWrap,callback:function(n){e.wordWrap=n},expression:"wordWrap"}},[e._v("自动换行")])],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==e.diffNum,expression:"diffNum!==0"}],class:e.fontStyle,staticStyle:{float:"right"}},[t("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.diffNum)+"处差异")])],1)],1)],1),t("div",{ref:"container",attrs:{id:"container"}})])},m=[],g=(t("ac1f"),t("1276"),t("b0c0"),t("c2c6")),p=t("c343"),k={data:function(){return{themeOption:[{value:"vs",label:"默认"},{value:"hc-black",label:"高亮"},{value:"vs-dark",label:"深色"}],myEditorStyle:"myEditorW",languageOption:[],theme:"vs",fontStyle:"fontB",language:"plaintext",diffNum:0,inlineDiff:!1,wordWrap:!1}},mounted:function(){var e=this;e.initEditor(),e.initModel("",""),e.languageOption=g["languages"].getLanguages(),document.ondrop=function(e){e.preventDefault()},document.ondragover=function(e){e.preventDefault()};var n=document.getElementById("container");n.ondrop=function(n){var t=n.target.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("class").split(" ")[1],a=e.monacoEditor.getModel().original,o=e.monacoEditor.getModel().modified;console.log(a.getLineCount()),console.log(o.getLineCount());var c=a.getValue(),i=o.getValue();if(void 0!==n.dataTransfer.files[0]){var r=n.dataTransfer.files[0];if("docx"===r.name.split(".")[1]){var d=new FileReader;d.onload=function(e){var n=e.target.result;p.extractRawText({arrayBuffer:n}).then((function(e){"original"===t?a.setValue(c+e.value):"modified"===t&&o.setValue(i+e.value)})).done()},d.readAsArrayBuffer(r)}else{var u=new FileReader;u.readAsText(r,"utf-8"),u.onload=function(){"original"===t?a.setValue(c+u.result):"modified"===t&&o.setValue(i+u.result)}}}else"original"===t?a.setValue(c+n.dataTransfer.getData("text")):"modified"===t&&o.setValue(i+n.dataTransfer.getData("text"))}},methods:{initEditor:function(){var e=this,n=this,t=document.getElementById("container");n.monacoEditor=g["editor"].createDiffEditor(t,{theme:n.theme,readOnly:!1,domReadOnly:!1,originalEditable:!0,automaticLayout:!0,diffWordWrap:"off"}),n.monacoEditor.onDidUpdateDiff((function(){n.diffNum=e.monacoEditor.getLineChanges().length})),n.diffNavigator=g["editor"].createDiffNavigator(this.monacoEditor,{alwaysRevealFirst:!0})},themeChange:function(e){g["editor"].setTheme(e),this.myEditorStyle=e,"vs"===e?(this.fontStyle="fontB",this.changeClass(document.body,"custom-FEB84A")):(this.fontStyle="fontW",this.changeClass(document.body,"custom-08E6B9"))},changeClass:function(e,n){e&&n&&(e.className=n)},languageChange:function(e){console.log(e),g["editor"].setModelLanguage(this.monacoEditor.getModel().original,e),g["editor"].setModelLanguage(this.monacoEditor.getModel().modified,e)},clearContent:function(){this.monacoEditor.getModel().original.setValue(""),this.monacoEditor.getModel().modified.setValue("")},InlineDiffChange:function(e){this.monacoEditor.updateOptions({renderSideBySide:!e})},WordWrapChange:function(e){this.monacoEditor.updateOptions({diffWordWrap:e?"on":"off"})},initModel:function(e,n){this.monacoEditor.setModel({original:g["editor"].createModel(e,this.language),modified:g["editor"].createModel(n,this.language)})},previousDiff:function(){this.diffNavigator.previous()},nextDiff:function(){this.diffNavigator.next()}}},v=k,y=(t("bf8c"),Object(d["a"])(v,b,m,!1,null,"1b602126",null)),E=y.exports;a["default"].use(h["a"]);var w=[{path:"/",name:"EditorDiff",component:E}],x=new h["a"]({routes:w}),O=x;t("255d"),t("cef25");a["default"].use(s.a),a["default"].config.productionTip=!1,new a["default"]({router:O,render:function(e){return e(f)}}).$mount("#app")},"85ec":function(e,n,t){},bf8c:function(e,n,t){"use strict";t("d5b2")},cef25:function(e,n,t){},d5b2:function(e,n,t){}});